@tailwind base;
@tailwind components;
@tailwind utilities;
@import 'highlight.js/styles/github-dark-dimmed.css';

@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');

@layer base {
    :root {
        --background: 255 255 255;
        --background-secondary: 249 248 252;
        --foreground: 20 20 20;
        --card: 255 255 255;
        --card-foreground: 20 20 20;
        --popover: 255 255 255;
        --popover-foreground: 20 20 20;
        --primary: 139 59 208;
        --primary-foreground: 255 255 255;
        --secondary: 243 240 249;
        --secondary-foreground: 20 20 20;
        --muted: 243 240 249;
        --muted-foreground: 107 99 139;
        --accent: 243 240 249;
        --accent-foreground: 20 20 20;
        --destructive: 239 68 68;
        --destructive-foreground: 255 255 255;
        --border: 228 223 240;
        --input: 228 223 240;
        --ring: 139 59 208;
    }

    .dark {
        --background: 12 20 53;
        --background-secondary: 47 14 91;
        --foreground: 243 244 246;
        --card: 12 20 53;
        --card-foreground: 243 244 246;
        --popover: 12 20 53;
        --popover-foreground: 243 244 246;
        --primary: 139 59 208;
        --primary-foreground: 243 244 246;
        --secondary: 47 14 91;
        --secondary-foreground: 243 244 246;
        --muted: 47 14 91;
        --muted-foreground: 163 156 175;
        --accent: 47 14 91;
        --accent-foreground: 243 244 246;
        --destructive: 239 68 68;
        --destructive-foreground: 243 244 246;
        --border: 38 47 63;
        --input: 38 47 63;
        --ring: 139 59 208;
    }

    .rwmarkable-light {
        --background: 255 255 255;
        --background-secondary: 249 250 251;
        --foreground: 20 20 20;
        --card: 255 255 255;
        --card-foreground: 20 20 20;
        --popover: 255 255 255;
        --popover-foreground: 20 20 20;
        --primary: 37 99 235;
        --primary-foreground: 255 255 255;
        --secondary: 241 245 249;
        --secondary-foreground: 20 20 20;
        --muted: 241 245 249;
        --muted-foreground: 100 116 139;
        --accent: 241 245 249;
        --accent-foreground: 20 20 20;
        --destructive: 239 68 68;
        --destructive-foreground: 255 255 255;
        --border: 226 232 240;
        --input: 226 232 240;
        --ring: 37 99 235;
    }

    .rwmarkable-dark {
        --background: 17 24 39;
        --background-secondary: 31 41 55;
        --foreground: 243 244 246;
        --card: 17 24 39;
        --card-foreground: 243 244 246;
        --popover: 17 24 39;
        --popover-foreground: 243 244 246;
        --primary: 59 130 246;
        --primary-foreground: 243 244 246;
        --secondary: 31 41 55;
        --secondary-foreground: 243 244 246;
        --muted: 31 41 55;
        --muted-foreground: 156 163 175;
        --accent: 31 41 55;
        --accent-foreground: 243 244 246;
        --destructive: 239 68 68;
        --destructive-foreground: 243 244 246;
        --border: 38 47 63;
        --input: 38 47 63;
        --ring: 59 130 246;
    }

    .fccview {
        --background: 12 20 53;
        --background-secondary: 21 14 60;
        --foreground: 243 244 246;
        --card: 12 20 53;
        --card-foreground: 243 244 246;
        --popover: 12 20 53;
        --popover-foreground: 243 244 246;
        --primary: 205 6 157;
        --primary-foreground: 243 244 246;
        --secondary: 21 14 60;
        --secondary-foreground: 243 244 246;
        --muted: 21 14 60;
        --muted-foreground: 163 156 175;
        --accent: 21 14 60;
        --accent-foreground: 243 244 246;
        --destructive: 239 68 68;
        --destructive-foreground: 243 244 246;
        --border: 38 47 63;
        --input: 38 47 63;
        --ring: 205 6 157;
    }

    .black-white {
        --background: 10 10 10;
        --background-secondary: 29 29 33;
        --foreground: 255 255 255;
        --card: 10 10 10;
        --card-foreground: 255 255 255;
        --popover: 10 10 10;
        --popover-foreground: 255 255 255;
        --primary: 90 90 90;
        --primary-foreground: 255 255 255;
        --secondary: 49 51 57;
        --secondary-foreground: 255 255 255;
        --muted: 49 51 57;
        --muted-foreground: 180 180 180;
        --accent: 49 51 57;
        --accent-foreground: 255 255 255;
        --destructive: 239 68 68;
        --destructive-foreground: 255 255 255;
        --border: 49 51 57;
        --input: 49 51 57;
        --ring: 90 90 90;
    }

    .sunset {
        --background: 254 242 242;
        --background-secondary: 252 231 231;
        --foreground: 20 20 20;
        --card: 254 242 242;
        --card-foreground: 20 20 20;
        --popover: 254 242 242;
        --popover-foreground: 20 20 20;
        --primary: 220 38 38;
        --primary-foreground: 254 242 242;
        --secondary: 254 226 226;
        --secondary-foreground: 20 20 20;
        --muted: 254 226 226;
        --muted-foreground: 155 28 28;
        --accent: 254 226 226;
        --accent-foreground: 20 20 20;
        --destructive: 239 68 68;
        --destructive-foreground: 254 242 242;
        --border: 254 226 226;
        --input: 254 226 226;
        --ring: 220 38 38;
    }

    .ocean {
        --background: 239 246 255;
        --background-secondary: 219 234 254;
        --foreground: 20 20 20;
        --card: 239 246 255;
        --card-foreground: 20 20 20;
        --popover: 239 246 255;
        --popover-foreground: 20 20 20;
        --primary: 37 99 235;
        --primary-foreground: 239 246 255;
        --secondary: 219 234 254;
        --secondary-foreground: 20 20 20;
        --muted: 219 234 254;
        --muted-foreground: 29 78 216;
        --accent: 219 234 254;
        --accent-foreground: 20 20 20;
        --destructive: 239 68 68;
        --destructive-foreground: 239 246 255;
        --border: 219 234 254;
        --input: 219 234 254;
        --ring: 37 99 235;
    }

    .forest {
        --background: 240 253 244;
        --background-secondary: 220 252 231;
        --foreground: 20 20 20;
        --card: 240 253 244;
        --card-foreground: 20 20 20;
        --popover: 240 253 244;
        --popover-foreground: 20 20 20;
        --primary: 22 163 74;
        --primary-foreground: 240 253 244;
        --secondary: 220 252 231;
        --secondary-foreground: 20 20 20;
        --muted: 220 252 231;
        --muted-foreground: 21 128 61;
        --accent: 220 252 231;
        --accent-foreground: 20 20 20;
        --destructive: 239 68 68;
        --destructive-foreground: 240 253 244;
        --border: 220 252 231;
        --input: 220 252 231;
        --ring: 22 163 74;
    }

    .nord {
        --background: 236 239 244;
        --background-secondary: 229 233 240;
        --foreground: 46 52 64;
        --card: 236 239 244;
        --card-foreground: 46 52 64;
        --popover: 236 239 244;
        --popover-foreground: 46 52 64;
        --primary: 94 129 172;
        --primary-foreground: 236 239 244;
        --secondary: 229 233 240;
        --secondary-foreground: 46 52 64;
        --muted: 229 233 240;
        --muted-foreground: 76 86 106;
        --accent: 229 233 240;
        --accent-foreground: 46 52 64;
        --destructive: 191 97 106;
        --destructive-foreground: 236 239 244;
        --border: 229 233 240;
        --input: 229 233 240;
        --ring: 94 129 172;
    }

    .dracula {
        --background: 40 42 54;
        --background-secondary: 68 71 90;
        --foreground: 248 248 242;
        --card: 40 42 54;
        --card-foreground: 248 248 242;
        --popover: 40 42 54;
        --popover-foreground: 248 248 242;
        --primary: 189 147 249;
        --primary-foreground: 40 42 54;
        --secondary: 68 71 90;
        --secondary-foreground: 248 248 242;
        --muted: 68 71 90;
        --muted-foreground: 139 233 253;
        --accent: 68 71 90;
        --accent-foreground: 248 248 242;
        --destructive: 255 85 85;
        --destructive-foreground: 40 42 54;
        --border: 44 46 60;
        --input: 44 46 60;
        --ring: 189 147 249;
    }

    .monokai {
        --background: 39 40 34;
        --background-secondary: 58 59 50;
        --foreground: 248 248 242;
        --card: 39 40 34;
        --card-foreground: 248 248 242;
        --popover: 39 40 34;
        --popover-foreground: 248 248 242;
        --primary: 253 151 31;
        --primary-foreground: 39 40 34;
        --secondary: 58 59 50;
        --secondary-foreground: 248 248 242;
        --muted: 58 59 50;
        --muted-foreground: 117 113 94;
        --accent: 58 59 50;
        --accent-foreground: 248 248 242;
        --destructive: 249 38 114;
        --destructive-foreground: 39 40 34;
        --border: 58 59 50;
        --input: 58 59 50;
        --ring: 253 151 31;
    }

    .github-dark {
        --background: 13 17 23;
        --background-secondary: 33 38 45;
        --foreground: 230 237 243;
        --card: 13 17 23;
        --card-foreground: 230 237 243;
        --popover: 13 17 23;
        --popover-foreground: 230 237 243;
        --primary: 47 129 247;
        --primary-foreground: 13 17 23;
        --secondary: 33 38 45;
        --secondary-foreground: 230 237 243;
        --muted: 33 38 45;
        --muted-foreground: 139 148 158;
        --accent: 33 38 45;
        --accent-foreground: 230 237 243;
        --destructive: 248 81 73;
        --destructive-foreground: 13 17 23;
        --border: 33 38 45;
        --input: 33 38 45;
        --ring: 47 129 247;
    }

    .tokyo-night {
        --background: 26 27 38;
        --background-secondary: 41 42 57;
        --foreground: 169 177 214;
        --card: 26 27 38;
        --card-foreground: 169 177 214;
        --popover: 26 27 38;
        --popover-foreground: 169 177 214;
        --primary: 125 207 255;
        --primary-foreground: 26 27 38;
        --secondary: 41 42 57;
        --secondary-foreground: 169 177 214;
        --muted: 41 42 57;
        --muted-foreground: 86 95 137;
        --accent: 41 42 57;
        --accent-foreground: 169 177 214;
        --destructive: 247 118 142;
        --destructive-foreground: 26 27 38;
        --border: 41 42 57;
        --input: 41 42 57;
        --ring: 125 207 255;
    }

    .catppuccin {
        --background: 30 30 46;
        --background-secondary: 49 50 68;
        --foreground: 205 214 244;
        --card: 30 30 46;
        --card-foreground: 205 214 244;
        --popover: 30 30 46;
        --popover-foreground: 205 214 244;
        --primary: 137 180 250;
        --primary-foreground: 30 30 46;
        --secondary: 49 50 68;
        --secondary-foreground: 205 214 244;
        --muted: 49 50 68;
        --muted-foreground: 166 173 200;
        --accent: 49 50 68;
        --accent-foreground: 205 214 244;
        --destructive: 243 139 168;
        --destructive-foreground: 30 30 46;
        --border: 49 50 68;
        --input: 49 50 68;
        --ring: 137 180 250;
    }

    .rose-pine {
        --background: 25 23 36;
        --background-secondary: 39 35 51;
        --foreground: 224 222 244;
        --card: 25 23 36;
        --card-foreground: 224 222 244;
        --popover: 25 23 36;
        --popover-foreground: 224 222 244;
        --primary: 196 167 231;
        --primary-foreground: 25 23 36;
        --secondary: 39 35 51;
        --secondary-foreground: 224 222 244;
        --muted: 39 35 51;
        --muted-foreground: 110 106 134;
        --accent: 39 35 51;
        --accent-foreground: 224 222 244;
        --destructive: 235 111 146;
        --destructive-foreground: 25 23 36;
        --border: 39 35 51;
        --input: 39 35 51;
        --ring: 196 167 231;
    }

    .gruvbox {
        --background: 40 40 40;
        --background-secondary: 60 56 54;
        --foreground: 235 219 178;
        --card: 40 40 40;
        --card-foreground: 235 219 178;
        --popover: 40 40 40;
        --popover-foreground: 235 219 178;
        --primary: 250 189 47;
        --primary-foreground: 40 40 40;
        --secondary: 60 56 54;
        --secondary-foreground: 235 219 178;
        --muted: 60 56 54;
        --muted-foreground: 168 153 132;
        --accent: 60 56 54;
        --accent-foreground: 235 219 178;
        --destructive: 251 73 52;
        --destructive-foreground: 40 40 40;
        --border: 60 56 54;
        --input: 60 56 54;
        --ring: 250 189 47;
    }

    .solarized-dark {
        --background: 0 43 54;
        --background-secondary: 7 54 66;
        --foreground: 147 161 161;
        --card: 0 43 54;
        --card-foreground: 147 161 161;
        --popover: 0 43 54;
        --popover-foreground: 147 161 161;
        --primary: 38 139 210;
        --primary-foreground: 0 43 54;
        --secondary: 7 54 66;
        --secondary-foreground: 147 161 161;
        --muted: 7 54 66;
        --muted-foreground: 88 110 117;
        --accent: 7 54 66;
        --accent-foreground: 147 161 161;
        --destructive: 220 50 47;
        --destructive-foreground: 0 43 54;
        --border: 7 54 66;
        --input: 7 54 66;
        --ring: 38 139 210;
    }
}

.stroke-current {
    stroke: rgb(var(--primary-foreground));
}

.fill-alternate {
    fill: rgb(var(--primary-foreground));
}

.fill-current {
    fill: rgb(var(--primary));
}

.fill-rwmarkable {
    fill: rgb(var(--foreground));
}

.stroke-rwmarkable {
    stroke: rgb(var(--background));
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background-secondary text-foreground;
    }
}

@media (max-width: 768px) {
    html {
      scroll-padding-bottom: 20px;
    }
    
    input:focus, textarea:focus {
      scroll-margin-bottom: 20px;
    }
}

body {
    font-family: "Inter", sans-serif;    
}

a, p, span, h1, h2, h3, h4, h5, h6, button, label, input, textarea, select {
    font-family: "Inter", sans-serif;
    overflow-wrap: break-word;
}

.hide-scrollbar::-webkit-scrollbar {
    display: none;
}
.hide-scrollbar {
    -ms-overflow-style: none; 
    scrollbar-width: none;  
}

.scroll-fade-right {
    mask-image: linear-gradient(to right, black 90%, transparent 100%);
}

.dragging {
    opacity: 0.5;
    transform: rotate(5deg);
}

.drag-over {
    @apply bg-accent bg-opacity-50;
}


.checklist-item input[type="checkbox"] {
    padding: 0;
    height: initial;
    width: initial;
    margin-bottom: 0;
    display: none;
    cursor: pointer;
  }
  
  .checklist-item label {
    position: relative;
    cursor: pointer;
  }
  
  .checklist-item label:before {
    content:'';
    -webkit-appearance: none;
    background-color: transparent;
    border: 1px solid rgb(var(--primary) / var(--tw-bg-opacity, 1));
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05), inset 0px -15px 10px -12px rgba(0, 0, 0, 0.05);
    padding: 10px;
    display: inline-block;
    position: relative;
    vertical-align: middle;
    cursor: pointer;
    margin-right: 10px;
    border-radius: 5px;
  }
  
  .checklist-item label.checked:after {
    content: '';
    display: block;
    position: absolute;
    top: 3px;
    left: 8px;
    width: 7px;
    height: 12px;
    border: solid rgb(var(--primary) / var(--tw-bg-opacity, 1));
    border-width: 0 1px 1px 0;
    transform: rotate(45deg);
  }


mark {
    background-color: #fef08a;
    color: inherit;
    border-radius: 0.25rem;
    padding: 0.125rem 0.25rem;
  }
  
  mark[style*="background-color"] {
    background-color: inherit !important;
  }

.prose {
    @apply text-foreground;
    line-height: 1.7;
}

.prose img, 
.ProseMirror img {
    max-width: 100%;
    height: none;
}

.prose p {
    padding-bottom: 1rem;
}

.prose li p {
    padding-bottom: 0.3em;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
    @apply text-foreground font-semibold;
    line-height: 1.25;
}

.prose h1 {
    font-size: 1.875rem;
    margin-bottom: 1rem;
}

.prose h2 {
    font-size: 1.5rem;
    margin-bottom: 0.75rem;
    margin-top: 1.5rem;
}

.prose h3 {
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
    margin-top: 1rem;
}

.prose strong {
    @apply font-semibold;
}

.prose em {
    font-style: italic;
}

.prose :where(:not(pre)) > code {
    @apply bg-muted px-1 py-0.5 rounded text-sm;
    font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
}

.prose blockquote {
    @apply border-l-4 border-primary pl-4 italic text-muted-foreground;
    margin: 1rem 0;
}

.prose ul,
.prose ol {
    margin: 1rem 0;
    padding-left: 1.5rem;
}

.prose a {
    @apply text-primary underline;
}

.prose .contains-task-list {
    list-style: none;
}

.prose .contains-task-list ul {
    padding-left: 1.5rem!important;
}

.prose .contains-task-list p,
.prose [data-type="taskList"] p {
    margin-top: -4px;
}

.prose ul p + ul .task-list-item {
    display: flex;
    align-items: center;
    padding-bottom: 0;
}

.prose .task-list-item p {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    width: 100%;
}

.prose .task-list-item p > input {
    margin-right: 0.5em;
}

.prose p + ul .task-list-item input {
    margin-right: 0.5em;
}

.prose a:hover {
    text-decoration: none;
}

.prose kbd {
    @apply bg-muted px-2 py-1 text-xs rounded-md border border-border shadow-border shadow-sm;
}

p > code {
    background: rgba(0,0,0,0.8)!important;
    color: orange;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
}

.ProseMirror .hljs {
  color: #abb2bf;
  background: #282c34;
}

.hljs .hljs {
    padding: 0;
    background: transparent;
}

.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.ProseMirror {
    height: 100%;    
}

.ProseMirror ul,
.ProseMirror ol {
    margin: 0.5rem 0;
    padding-left: 1.5rem;
}

.ProseMirror li {
    margin: 0;
    padding: 0;
}

.ProseMirror li p {
    margin: 0;
}

.ProseMirror ul {
    list-style-type: disc;
}

.ProseMirror ul ul,
.prose ul ul {
    margin: 0;
}

.ProseMirror ol {
    list-style-type: decimal;
}

.ProseMirror li + li {
    margin-top: 0;
}

.ProseMirror ul li,
.ProseMirror ol li {
    line-height: 1.4;
}

.ProseMirror ul li:empty,
.ProseMirror ol li:empty {
    display: none;
}

.ProseMirror h1 {
    font-size: 1.875rem;
    margin-bottom: 1rem;
    font-weight: 600;
    line-height: 1.25;
}

.ProseMirror h2 {
    font-size: 1.5rem;
    margin-bottom: 0.75rem;
    margin-top: 1.5rem;
    font-weight: 600;
    line-height: 1.25;
}

.ProseMirror h3 {
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
    margin-top: 1rem;
    font-weight: 600;
    line-height: 1.25;
}

.ProseMirror p {
    line-height: 1.7;
}

.ProseMirror strong {
    font-weight: 600;
}

.ProseMirror em {
    font-style: italic;
}

.ProseMirror blockquote {
    border-left: 4px solid rgb(var(--primary));
    padding-left: 1rem;
    font-style: italic;
    color: rgb(var(--muted-foreground));
    margin: 1rem 0;
}

.ProseMirror li[data-checked=false], 
.ProseMirror li[data-checked=true],
.prose li[data-checked=false], 
.prose li[data-checked=true] {
    display: flex;
    padding: 0;
    column-gap: 5px;
    align-items: flex-start;
}

.ProseMirror li[data-checked=false] label, 
.ProseMirror li[data-checked=true] label,
.prose li[data-checked=false] label, 
.prose li[data-checked=true] label {
    margin: 0;
    height: 20px;
}


.ProseMirror li input[type="checkbox"],
.prose li input[type="checkbox"] {
    width: 20px;
    height: 20px;
}

.ProseMirror ul[data-type="taskList"],
.prose ul[data-type="taskList"] {
    padding-left: 0;
    list-style-type: none;
}

.ProseMirror hr,
.prose hr {
    margin: 1rem 0;
}

.file-attachment-wrapper {
    margin: 1rem 0;
    display: block;
}

.file-attachment {
    display: inline-block;
    max-width: 100%;
}

.file-attachment-wrapper .file-attachment {
    margin: 0;
}


@media print {
    .no-print {
      display: none !important;
    }
  
    body {
      background: #fff !important;
    }
  
    .prose {
      font-size: 12pt !important;
      font-family: 'Times New Roman', Times, serif !important;
      color: #000 !important;
      max-width: 100% !important;
    }
  
    .prose h1, .prose h2, .prose h3, .prose h4,
    .prose pre, .prose blockquote {
      page-break-after: avoid;
      page-break-inside: avoid;
    }
  
    .prose img {
      max-width: 100% !important;
    }
  
    .prose a[href^="http"]:after {
      content: " (" attr(href) ")";
      font-size: 9pt;
      font-weight: normal;
      color: #333;
    }
  } 